/* 
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */
package dev.hathora.cloud_sdk;

import static dev.hathora.cloud_sdk.operations.Operations.AsyncRequestOperation;

import dev.hathora.cloud_sdk.models.operations.CreateBuildRegistryRequest;
import dev.hathora.cloud_sdk.models.operations.CreateBuildRequest;
import dev.hathora.cloud_sdk.models.operations.DeleteBuildRequest;
import dev.hathora.cloud_sdk.models.operations.GetBuildRequest;
import dev.hathora.cloud_sdk.models.operations.GetBuildsRequest;
import dev.hathora.cloud_sdk.models.operations.RunBuildRegistryRequest;
import dev.hathora.cloud_sdk.models.operations.RunBuildRequest;
import dev.hathora.cloud_sdk.models.operations.async.CreateBuildRegistryRequestBuilder;
import dev.hathora.cloud_sdk.models.operations.async.CreateBuildRegistryResponse;
import dev.hathora.cloud_sdk.models.operations.async.CreateBuildRequestBuilder;
import dev.hathora.cloud_sdk.models.operations.async.CreateBuildResponse;
import dev.hathora.cloud_sdk.models.operations.async.DeleteBuildRequestBuilder;
import dev.hathora.cloud_sdk.models.operations.async.DeleteBuildResponse;
import dev.hathora.cloud_sdk.models.operations.async.GetBuildRequestBuilder;
import dev.hathora.cloud_sdk.models.operations.async.GetBuildResponse;
import dev.hathora.cloud_sdk.models.operations.async.GetBuildsRequestBuilder;
import dev.hathora.cloud_sdk.models.operations.async.GetBuildsResponse;
import dev.hathora.cloud_sdk.models.operations.async.RunBuildRegistryRequestBuilder;
import dev.hathora.cloud_sdk.models.operations.async.RunBuildRegistryResponse;
import dev.hathora.cloud_sdk.models.operations.async.RunBuildRequestBuilder;
import dev.hathora.cloud_sdk.models.operations.async.RunBuildResponse;
import dev.hathora.cloud_sdk.models.shared.CreateBuildV3Params;
import dev.hathora.cloud_sdk.models.shared.CreateMultipartBuildParams;
import dev.hathora.cloud_sdk.models.shared.RegistryConfig;
import dev.hathora.cloud_sdk.operations.CreateBuild;
import dev.hathora.cloud_sdk.operations.CreateBuildRegistry;
import dev.hathora.cloud_sdk.operations.DeleteBuild;
import dev.hathora.cloud_sdk.operations.GetBuild;
import dev.hathora.cloud_sdk.operations.GetBuilds;
import dev.hathora.cloud_sdk.operations.RunBuild;
import dev.hathora.cloud_sdk.operations.RunBuildRegistry;
import dev.hathora.cloud_sdk.utils.Headers;
import java.lang.String;
import java.util.Optional;
import java.util.concurrent.CompletableFuture;

/**
 * Operations that allow you create and manage your
 * [builds](https://hathora.dev/docs/concepts/hathora-entities#build).
 */
public class AsyncBuildsV3 {
    private static final Headers _headers = Headers.EMPTY;
    private final SDKConfiguration sdkConfiguration;
    private final BuildsV3 syncSDK;

    AsyncBuildsV3(BuildsV3 syncSDK, SDKConfiguration sdkConfiguration) {
        this.sdkConfiguration = sdkConfiguration;
        this.syncSDK = syncSDK;
    }

    /**
     * Switches to the sync SDK.
     * 
     * @return The sync SDK
     */
    public BuildsV3 sync() {
        return syncSDK;
    }


    /**
     * CreateBuild
     * 
     * <p>Creates a new [build](https://hathora.dev/docs/concepts/hathora-entities#build) with optional
     * `multipartUploadUrls` that can be used to upload larger builds in parts before calling `runBuild`.
     * Responds with a `buildId` that you must pass to
     * [`RunBuild()`](https://hathora.dev/api#tag/BuildV1/operation/RunBuild) to build the game server
     * artifact. You can optionally pass in a `buildTag` to associate an external version with a build.
     * 
     * @return The async call builder
     */
    public CreateBuildRequestBuilder createBuild() {
        return new CreateBuildRequestBuilder(sdkConfiguration);
    }

    /**
     * CreateBuild
     * 
     * <p>Creates a new [build](https://hathora.dev/docs/concepts/hathora-entities#build) with optional
     * `multipartUploadUrls` that can be used to upload larger builds in parts before calling `runBuild`.
     * Responds with a `buildId` that you must pass to
     * [`RunBuild()`](https://hathora.dev/api#tag/BuildV1/operation/RunBuild) to build the game server
     * artifact. You can optionally pass in a `buildTag` to associate an external version with a build.
     * 
     * @param createMultipartBuildParams 
     * @return {@code CompletableFuture<CreateBuildResponse>} - The async response
     */
    public CompletableFuture<CreateBuildResponse> createBuild(CreateMultipartBuildParams createMultipartBuildParams) {
        return createBuild(createMultipartBuildParams, Optional.empty());
    }

    /**
     * CreateBuild
     * 
     * <p>Creates a new [build](https://hathora.dev/docs/concepts/hathora-entities#build) with optional
     * `multipartUploadUrls` that can be used to upload larger builds in parts before calling `runBuild`.
     * Responds with a `buildId` that you must pass to
     * [`RunBuild()`](https://hathora.dev/api#tag/BuildV1/operation/RunBuild) to build the game server
     * artifact. You can optionally pass in a `buildTag` to associate an external version with a build.
     * 
     * @param createMultipartBuildParams 
     * @param orgId 
     * @return {@code CompletableFuture<CreateBuildResponse>} - The async response
     */
    public CompletableFuture<CreateBuildResponse> createBuild(CreateMultipartBuildParams createMultipartBuildParams, Optional<String> orgId) {
        CreateBuildRequest request =
            CreateBuildRequest
                .builder()
                .createMultipartBuildParams(createMultipartBuildParams)
                .orgId(orgId)
                .build();
        AsyncRequestOperation<CreateBuildRequest, CreateBuildResponse> operation
              = new CreateBuild.Async(sdkConfiguration, _headers);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * CreateBuildRegistry
     * 
     * <p>Creates a new [build](https://hathora.dev/docs/concepts/hathora-entities#build) to be used with
     * `runBuildRegistry`. Responds with a `buildId` that you must pass to
     * [`RunBuildRegistry()`](https://hathora.dev/api#tag/BuildV3/operation/RunBuildRegistry) to build the
     * game server artifact. You can optionally pass in a `buildTag` to associate an external version with
     * a build.
     * 
     * @return The async call builder
     */
    public CreateBuildRegistryRequestBuilder createBuildRegistry() {
        return new CreateBuildRegistryRequestBuilder(sdkConfiguration);
    }

    /**
     * CreateBuildRegistry
     * 
     * <p>Creates a new [build](https://hathora.dev/docs/concepts/hathora-entities#build) to be used with
     * `runBuildRegistry`. Responds with a `buildId` that you must pass to
     * [`RunBuildRegistry()`](https://hathora.dev/api#tag/BuildV3/operation/RunBuildRegistry) to build the
     * game server artifact. You can optionally pass in a `buildTag` to associate an external version with
     * a build.
     * 
     * @param createBuildV3Params 
     * @return {@code CompletableFuture<CreateBuildRegistryResponse>} - The async response
     */
    public CompletableFuture<CreateBuildRegistryResponse> createBuildRegistry(CreateBuildV3Params createBuildV3Params) {
        return createBuildRegistry(createBuildV3Params, Optional.empty());
    }

    /**
     * CreateBuildRegistry
     * 
     * <p>Creates a new [build](https://hathora.dev/docs/concepts/hathora-entities#build) to be used with
     * `runBuildRegistry`. Responds with a `buildId` that you must pass to
     * [`RunBuildRegistry()`](https://hathora.dev/api#tag/BuildV3/operation/RunBuildRegistry) to build the
     * game server artifact. You can optionally pass in a `buildTag` to associate an external version with
     * a build.
     * 
     * @param createBuildV3Params 
     * @param orgId 
     * @return {@code CompletableFuture<CreateBuildRegistryResponse>} - The async response
     */
    public CompletableFuture<CreateBuildRegistryResponse> createBuildRegistry(CreateBuildV3Params createBuildV3Params, Optional<String> orgId) {
        CreateBuildRegistryRequest request =
            CreateBuildRegistryRequest
                .builder()
                .createBuildV3Params(createBuildV3Params)
                .orgId(orgId)
                .build();
        AsyncRequestOperation<CreateBuildRegistryRequest, CreateBuildRegistryResponse> operation
              = new CreateBuildRegistry.Async(sdkConfiguration, _headers);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * DeleteBuild
     * 
     * <p>Delete a [build](https://hathora.dev/docs/concepts/hathora-entities#build). All associated metadata
     * is deleted.
     * Be careful which builds you delete. This endpoint does not prevent you from deleting actively used
     * builds.
     * Deleting a build that is actively build used by an app's deployment will cause failures when
     * creating rooms.
     * 
     * @return The async call builder
     */
    public DeleteBuildRequestBuilder deleteBuild() {
        return new DeleteBuildRequestBuilder(sdkConfiguration);
    }

    /**
     * DeleteBuild
     * 
     * <p>Delete a [build](https://hathora.dev/docs/concepts/hathora-entities#build). All associated metadata
     * is deleted.
     * Be careful which builds you delete. This endpoint does not prevent you from deleting actively used
     * builds.
     * Deleting a build that is actively build used by an app's deployment will cause failures when
     * creating rooms.
     * 
     * @param buildId 
     * @return {@code CompletableFuture<DeleteBuildResponse>} - The async response
     */
    public CompletableFuture<DeleteBuildResponse> deleteBuild(String buildId) {
        return deleteBuild(buildId, Optional.empty());
    }

    /**
     * DeleteBuild
     * 
     * <p>Delete a [build](https://hathora.dev/docs/concepts/hathora-entities#build). All associated metadata
     * is deleted.
     * Be careful which builds you delete. This endpoint does not prevent you from deleting actively used
     * builds.
     * Deleting a build that is actively build used by an app's deployment will cause failures when
     * creating rooms.
     * 
     * @param buildId 
     * @param orgId 
     * @return {@code CompletableFuture<DeleteBuildResponse>} - The async response
     */
    public CompletableFuture<DeleteBuildResponse> deleteBuild(String buildId, Optional<String> orgId) {
        DeleteBuildRequest request =
            DeleteBuildRequest
                .builder()
                .buildId(buildId)
                .orgId(orgId)
                .build();
        AsyncRequestOperation<DeleteBuildRequest, DeleteBuildResponse> operation
              = new DeleteBuild.Async(sdkConfiguration, _headers);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * GetBuild
     * 
     * <p>Get details for a [build](https://hathora.dev/docs/concepts/hathora-entities#build).
     * 
     * @return The async call builder
     */
    public GetBuildRequestBuilder getBuild() {
        return new GetBuildRequestBuilder(sdkConfiguration);
    }

    /**
     * GetBuild
     * 
     * <p>Get details for a [build](https://hathora.dev/docs/concepts/hathora-entities#build).
     * 
     * @param buildId 
     * @return {@code CompletableFuture<GetBuildResponse>} - The async response
     */
    public CompletableFuture<GetBuildResponse> getBuild(String buildId) {
        return getBuild(buildId, Optional.empty());
    }

    /**
     * GetBuild
     * 
     * <p>Get details for a [build](https://hathora.dev/docs/concepts/hathora-entities#build).
     * 
     * @param buildId 
     * @param orgId 
     * @return {@code CompletableFuture<GetBuildResponse>} - The async response
     */
    public CompletableFuture<GetBuildResponse> getBuild(String buildId, Optional<String> orgId) {
        GetBuildRequest request =
            GetBuildRequest
                .builder()
                .buildId(buildId)
                .orgId(orgId)
                .build();
        AsyncRequestOperation<GetBuildRequest, GetBuildResponse> operation
              = new GetBuild.Async(sdkConfiguration, _headers);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * GetBuilds
     * 
     * <p>Returns an array of [builds](https://hathora.dev/docs/concepts/hathora-entities#build) for an
     * [application](https://hathora.dev/docs/concepts/hathora-entities#application).
     * 
     * @return The async call builder
     */
    public GetBuildsRequestBuilder getBuilds() {
        return new GetBuildsRequestBuilder(sdkConfiguration);
    }

    /**
     * GetBuilds
     * 
     * <p>Returns an array of [builds](https://hathora.dev/docs/concepts/hathora-entities#build) for an
     * [application](https://hathora.dev/docs/concepts/hathora-entities#application).
     * 
     * @return {@code CompletableFuture<GetBuildsResponse>} - The async response
     */
    public CompletableFuture<GetBuildsResponse> getBuildsDirect() {
        return getBuilds(Optional.empty());
    }

    /**
     * GetBuilds
     * 
     * <p>Returns an array of [builds](https://hathora.dev/docs/concepts/hathora-entities#build) for an
     * [application](https://hathora.dev/docs/concepts/hathora-entities#application).
     * 
     * @param orgId 
     * @return {@code CompletableFuture<GetBuildsResponse>} - The async response
     */
    public CompletableFuture<GetBuildsResponse> getBuilds(Optional<String> orgId) {
        GetBuildsRequest request =
            GetBuildsRequest
                .builder()
                .orgId(orgId)
                .build();
        AsyncRequestOperation<GetBuildsRequest, GetBuildsResponse> operation
              = new GetBuilds.Async(sdkConfiguration, _headers);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * RunBuild
     * 
     * <p>Builds a game server artifact from a tarball you provide. Pass in the `buildId` generated from
     * [`CreateBuild()`](https://hathora.dev/api#tag/BuildV1/operation/CreateBuild).
     * 
     * @return The async call builder
     */
    public RunBuildRequestBuilder runBuild() {
        return new RunBuildRequestBuilder(sdkConfiguration);
    }

    /**
     * RunBuild
     * 
     * <p>Builds a game server artifact from a tarball you provide. Pass in the `buildId` generated from
     * [`CreateBuild()`](https://hathora.dev/api#tag/BuildV1/operation/CreateBuild).
     * 
     * @param buildId 
     * @return {@code CompletableFuture<RunBuildResponse>} - The async response
     */
    public CompletableFuture<RunBuildResponse> runBuild(String buildId) {
        return runBuild(buildId, Optional.empty());
    }

    /**
     * RunBuild
     * 
     * <p>Builds a game server artifact from a tarball you provide. Pass in the `buildId` generated from
     * [`CreateBuild()`](https://hathora.dev/api#tag/BuildV1/operation/CreateBuild).
     * 
     * @param buildId 
     * @param orgId 
     * @return {@code CompletableFuture<RunBuildResponse>} - The async response
     */
    public CompletableFuture<RunBuildResponse> runBuild(String buildId, Optional<String> orgId) {
        RunBuildRequest request =
            RunBuildRequest
                .builder()
                .buildId(buildId)
                .orgId(orgId)
                .build();
        AsyncRequestOperation<RunBuildRequest, RunBuildResponse> operation
              = new RunBuild.Async(sdkConfiguration, _headers);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * RunBuildRegistry
     * 
     * <p>Builds a game server artifact from a public or private registry. Pass in the `buildId` generated
     * from [`CreateBuild()`](https://hathora.dev/api#tag/BuildV1/operation/CreateBuild).
     * 
     * @return The async call builder
     */
    public RunBuildRegistryRequestBuilder runBuildRegistry() {
        return new RunBuildRegistryRequestBuilder(sdkConfiguration);
    }

    /**
     * RunBuildRegistry
     * 
     * <p>Builds a game server artifact from a public or private registry. Pass in the `buildId` generated
     * from [`CreateBuild()`](https://hathora.dev/api#tag/BuildV1/operation/CreateBuild).
     * 
     * @param registryConfig 
     * @param buildId 
     * @return {@code CompletableFuture<RunBuildRegistryResponse>} - The async response
     */
    public CompletableFuture<RunBuildRegistryResponse> runBuildRegistry(RegistryConfig registryConfig, String buildId) {
        return runBuildRegistry(registryConfig, buildId, Optional.empty());
    }

    /**
     * RunBuildRegistry
     * 
     * <p>Builds a game server artifact from a public or private registry. Pass in the `buildId` generated
     * from [`CreateBuild()`](https://hathora.dev/api#tag/BuildV1/operation/CreateBuild).
     * 
     * @param registryConfig 
     * @param buildId 
     * @param orgId 
     * @return {@code CompletableFuture<RunBuildRegistryResponse>} - The async response
     */
    public CompletableFuture<RunBuildRegistryResponse> runBuildRegistry(
            RegistryConfig registryConfig, String buildId,
            Optional<String> orgId) {
        RunBuildRegistryRequest request =
            RunBuildRegistryRequest
                .builder()
                .registryConfig(registryConfig)
                .buildId(buildId)
                .orgId(orgId)
                .build();
        AsyncRequestOperation<RunBuildRegistryRequest, RunBuildRegistryResponse> operation
              = new RunBuildRegistry.Async(sdkConfiguration, _headers);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }

}
